### 数字逻辑与计算机组成Lab3

202220013 徐简 161200063@smail.nju.edu.cn

#### 同步二进制计数器

1. 根据以下所给出的功能表和电路原理图构建 4 位同步二进制计数器 CNTR4U 子电路.

![Screen Shot 2021-11-16 at 21.51.15](/Users/kirakiraakira/Desktop/Screen Shot 2021-11-16 at 21.51.15.png)

2. Logisim中的实现如下

![Screen Shot 2021-11-17 at 01.08.23](/Users/kirakiraakira/Desktop/Screen Shot 2021-11-17 at 01.08.23.png)

3. 利用该子电路和少量门电路，分别通过清零设计一个 10 进制计数器。因为十进制，所以需要在输出为9（1001）的时候，将CLR位置为有效。

4. Logisim中的实现如下

![Screen Shot 2021-11-17 at 01.09.16](/Users/kirakiraakira/Desktop/Screen Shot 2021-11-17 at 01.09.16.png)

5. 利用该子电路和少量门电路，分别通过置位设计一个 10 进制计数器。因为十进制，所以需要从6开始，即每当输出为15（1111）时，将置位端置为有效，同时将（0110）作为置位的输入。
6. Logisim中的实现如下

![Screen Shot 2021-11-17 at 01.09.42](/Users/kirakiraakira/Desktop/Screen Shot 2021-11-17 at 01.09.42.png)



#### 4位通用移位寄存器

1. 根据以下所给出的功能表和电路原理图构建 4 位通用移位寄存器 SHRG4U 子电路

![Screen Shot 2021-11-17 at 01.10.13](/Users/kirakiraakira/Desktop/Screen Shot 2021-11-17 at 01.10.13.png)

2. Logisim中的实现如下

![Screen Shot 2021-11-17 at 01.10.58](/Users/kirakiraakira/Desktop/Screen Shot 2021-11-17 at 01.10.58.png)

3. 利用 该 SHRG4U 子电路和少量门电路重复生成二进制序列“000100110101111”。采取右移的方式，首先LOAD初始状态1111。根据给定的序列，得到右移输入RIN的逻辑表达式

$$
Rin=(!QC*OD)+(QC*!QD)
$$

4. Logisim中的实现如下

![Screen Shot 2021-11-17 at 01.11.24](/Users/kirakiraakira/Desktop/Screen Shot 2021-11-17 at 01.11.24.png)



#### 32 位寄存器堆 Regfile 的读写电路

1. 根据以下寄存器堆的原理图及给出的引脚图，构建实现至少含有 8 个 32 位寄存器堆 Regfile 的读写电路，写入操作需有时钟信号控制，读取操作是组合电路。

3. Logisim实现如下

![Screen Shot 2021-11-17 at 01.11.59](/Users/kirakiraakira/Desktop/Screen Shot 2021-11-17 at 01.11.59.png)

3. 测试后，能够在时钟信号有效时写入数据到指定寄存器，能够随时读取任意一个寄存 器的数据，满足要求。

#### 思考题

1. 如何利用 CNTR4U 实现从任意初始值开始的 10 进制计数器？

- 初始值加10取模的位置触发置位信号，将信号置为初始值即可。


2. 如何用两片 CNTR4U 子电路设计一个 60 进制计数器？

- 需要用两片CNTR4U子电路，N1作为低4位计数，N2最为高两位计数，进位条件为59，转换成二进制是111011，清零即可。


3. 在寄存器堆中，如何实现 0 号寄存器始终存储数值 0？

- 每个时钟周期，往0号寄存器写入数值0.


4.  如何用组合电路实现 4 位移位寄存器？

- 题2中的4 位通用移位寄存器 SHRG4U 子电路就是一个例子。

- 触发器用于存储数据，4位移位寄存器即需要4个触发器。
- 要实现它的移位功能，就是在串行输入的情況下，前级的上次输出作为下级的后一次输出。所以可以利用前级的输出作为下级的输入的办法来实现数据的移位功能。
- 在共同时钟的作用下，每到一个时钟脉冲，寄存器的数据就顺序向左或向右移一位。



